# Vim 快捷键备忘单 🚀

## 📁 文件操作

| 快捷键 | 功能 |
|--------|------|
| `:e file` | 编辑文件 |
| `:w` | 保存 |
| `:x` | 保存并退出 |
| `:q!` | 强制退出不保存 |
| `ZZ` | 保存并退出 |
| `ZQ` | 不保存退出 |

## 🖱️ 移动

### 基础移动
| 快捷键 | 功能 |
|--------|------|
| `h/j/k/l` | 左/下/上/右 |
| `w` | 下一个单词开头 |
| `b` | 上一个单词开头 |
| `e` | 下一个单词结尾 |
| `0` | 行首 |
| `^` | 行首第一个非空字符 |
| `$` | 行尾 |
| `gg` | 文件首 |
| `G` | 文件尾 |
| `:n` | 跳转到第 n 行 |

### 快速跳转
| 快捷键 | 功能 |
|--------|------|
| `Ctrl-o` | 返回上一个位置 |
| `Ctrl-i` | 前进到下一个位置 |
| `''` | 返回上次位置 |
| `'.` | 跳转到最后编辑的位置 |
| `Ctrl-]` | 跳转到标签定义 |
| `Ctrl-t` | 返回标签栈 |

### 屏幕移动
| 快捷键 | 功能 |
|--------|------|
| `Ctrl-f` | 向下翻页 |
| `Ctrl-b` | 向上翻页 |
| `Ctrl-d` | 向下翻半页 |
| `Ctrl-u` | 向上翻半页 |
| `zt` | 当前行移到屏幕顶部 |
| `zz` | 当前行移到屏幕中间 |
| `zb` | 当前行移到屏幕底部 |
| `H` | 跳转到屏幕顶部 |
| `M` | 跳转到屏幕中间 |
| `L` | 跳转到屏幕底部 |

## ✏️ 编辑

### 插入模式
| 快捷键 | 功能 |
|--------|------|
| `i` | 在光标前插入 |
| `a` | 在光标后插入 |
| `I` | 在行首插入 |
| `A` | 在行尾插入 |
| `o` | 在下方新建行插入 |
| `O` | 在上方新建行插入 |
| `Esc` | 退出插入模式 |

### 删除
| 快捷键 | 功能 |
|--------|------|
| `x` | 删除光标处字符 |
| `X` | 删除光标前字符 |
| `dw` | 删除到下一个单词开头 |
| `db` | 删除到上一个单词开头 |
| `dd` | 删除当前行 |
| `d$` | 删除到行尾 |
| `d0` | 删除到行首 |
| `dG` | 删除到文件尾 |
| `D` | 删除到行尾（同 d$） |
| `cw` | 修改单词 |
| `cc` | 修改行 |
| `C` | 修改到行尾 |

### 复制粘贴
| 快捷键 | 功能 |
|--------|------|
| `yy` | 复制当前行 |
| `yw` | 复制单词 |
| `y$` | 复制到行尾 |
| `p` | 在光标后粘贴 |
| `P` | 在光标前粘贴 |
| `"ay` | 复制到寄存器 a |
| `"ap` | 从寄存器 a 粘贴 |
| `"+y` | 复制到系统剪贴板 |
| `"+p` | 从系统剪贴板粘贴 |

### 撤销重做
| 快捷键 | 功能 |
|--------|------|
| `u` | 撤销 |
| `Ctrl-r` | 重做 |
| `U` | 撤销所有行编辑 |

## 🔍 搜索替换

### 搜索
| 快捷键 | 功能 |
|--------|------|
| `/pattern` | 向下搜索 |
| `?pattern` | 向上搜索 |
| `n` | 下一个匹配 |
| `N` | 上一个匹配 |
| `*` | 搜索光标下的单词（向前） |
| `#` | 搜索光标下的单词（向后） |
| `:noh` | 取消高亮 |

### 替换
| 快捷键 | 功能 |
|--------|------|
| `:s/old/new/` | 替换当前行第一个 |
| `:s/old/new/g` | 替换当前行所有 |
| `:%s/old/new/g` | 替换所有行第一个 |
| `:%s/old/new/gc` | 替换所有（需确认） |
| `:%s/old/new/gi` | 替换所有（忽略大小写） |

## 📑 可视模式

| 快捷键 | 功能 |
|--------|------|
| `v` | 字符可视模式 |
| `V` | 行可视模式 |
| `Ctrl-v` | 块可视模式 |
| `v` + 移动键 | 选择文本 |
| `o` | 跳转到选择区域的另一端 |
| `aw` | 选择一个单词 |
| `ab` | 选择一对括号内容 |
| `ib` | 选择括号内内容 |
| `>` | 增加缩进 |
| `<` | 减少缩进 |

## 🪟 窗口和标签

### 窗口分割
| 快捷键 | 功能 |
|--------|------|
| `:sp` | 水平分割 |
| `:vsp` | 垂直分割 |
| `Ctrl-w s` | 水平分割 |
| `Ctrl-w v` | 垂直分割 |
| `Ctrl-w q` | 关闭窗口 |
| `Ctrl-w o` | 关闭其他窗口 |

### 窗口导航
| 快捷键 | 功能 |
|--------|------|
| `Ctrl-w h` | 移动到左边窗口 |
| `Ctrl-w j` | 移动到下边窗口 |
| `Ctrl-w k` | 移动到上边窗口 |
| `Ctrl-w l` | 移动到右边窗口 |
| `Ctrl-w w` | 切换到下一个窗口 |
| `Ctrl-w W` | 切换到上一个窗口 |

### 窗口调整
| 快捷键 | 功能 |
|--------|------|
| `Ctrl-w =` | 均分窗口大小 |
| `Ctrl-w +` | 增加高度 |
| `Ctrl-w -` | 减少高度 |
| `Ctrl-w >` | 增加宽度 |
| `Ctrl-w <` | 减少宽度 |

### 标签页
| 快捷键 | 功能 |
|--------|------|
| `:tabnew` | 新建标签页 |
| `:tabc` | 关闭标签页 |
| `:tabo` | 关闭其他标签页 |
| `:tabn` | 下一个标签页 |
| `:tabp` | 上一个标签页 |
| `gt` | 下一个标签页 |
| `gT` | 上一个标签页 |
| `:tabfirst` | 第一个标签页 |
| `:tablast` | 最后一个标签页 |

## 🎯 文本对象

| 快捷键 | 功能 |
|--------|------|
| `ciw` | 修改单词（inner word） |
| `caw` | 修改单词及空格（a word） |
| `ci"` | 修改引号内容 |
| `ca"` | 修改引号及内容 |
| `ci(` | 修改括号内容 |
| `ca(` | 修改括号及内容 |
| `cit` | 修改标签内容 |
| `cis` | 修改句子 |
| `cip` | 修改段落 |

## 🔧 实用命令

### 文件信息
| 命令 | 功能 |
|------|------|
| `:f` | 显示文件信息 |
| `:pwd` | 显示当前目录 |
| `:ls` | 显示缓冲区列表 |
| `:args` | 显示参数列表 |

### 宏
| 快捷键 | 功能 |
|--------|------|
| `qa` | 开始录制宏到寄存器 a |
| `q` | 停止录制 |
| `@a` | 执行宏 a |
| `@@` | 重复上次执行的宏 |
| `:10,20norm @a` | 在 10-20 行执行宏 a |

### 折叠
| 快捷键 | 功能 |
|--------|------|
| `zi` | 切换折叠 |
| `za` | 切换当前折叠 |
| `zA` | 递归切换 |
| `zc` | 关闭折叠 |
| `zo` | 打开折叠 |
| `zC` | 关闭所有 |
| `zO` | 打开所有 |
| `zM` | 关闭所有折叠 |
| `zR` | 打开所有折叠 |

## 🚀 高级技巧

### 批量操作
```
" 在多行行首添加相同内容
1. Ctrl-v 进入块可视模式
2. 选择多行
3. Shift-i 进入插入模式
4. 输入内容
5. Esc 两次（等待 1 秒生效）
```

### 递增数字
```
" 创建递增序列
1. 输入起始数字（如 1）
2. 在可视模式下选择多行
3. :g/^/norm! Ctrl-a
```

### 重复上次操作
```
.  - 重复最后一次普通模式操作
```

### 大小写转换
```
~    - 切换光标下字符大小写
g~~  - 切换整行大小写
guu  - 转换为小写
gUU  - 转换为大写
guw  - 转换单词为小写
gUw  - 转换单词为大写
```

## 📝 自定义 Leader 键快捷键

配置的 Leader 键是 `\` (反斜杠)

### 文件操作
| 快捷键 | 功能 |
|--------|------|
| `\w` | 保存 |
| `\x` | 保存并退出 |
| `\q` | 强制退出 |
| `\ev` | 编辑 vimrc |
| `\so` | 重新加载配置 |

### 导航
| 快捷键 | 功能 |
|--------|------|
| `\o` | 当前文件大纲 |
| `\s` | 全局符号搜索 |
| `\p` | 快速打开文件 |
| `\b` | 缓冲区列表 |

### 代码
| 快捷键 | 功能 |
|--------|------|
| `gd` | 跳转到定义 |
| `gr` | 查找引用 |
| `K` | 显示文档 |
| `\rn` | 重命名 |
| `\f` | 格式化代码 |

### Git
| 快捷键 | 功能 |
|--------|------|
| `\gs` | Git 状态 |
| `\gd` | Git diff |
| `\gc` | Git commit |

## 💡 记忆技巧

1. **运动命令 + 操作符**
   - `d` (delete) + `w` (word) = `dw` (删除单词)
   - `c` (change) + `$` (line end) = `c$` (修改到行尾)
   - `y` (yank/copy) + `y` (line) = `yy` (复制行)

2. **文本对象记忆**
   - `i` = inner (内部，不包含边界)
   - `a` = all (全部，包含边界)
   - `iw` = inner word (单词内部)
   - `aw` = all word (单词加空格)

3. **窗口操作记忆**
   - 所有 Ctrl-w 开头的命令都和窗口有关
   - `Ctrl-w` + 方向键 = 移动到对应方向的窗口

4. **寄存器记忆**
   - `"a` 到 `"z` 是自定义寄存器
   - `"+` 是系统剪贴板
   - `"*` 是选择缓冲区
   - `"` 是上次删除/复制的内容

---

**保存此文件到:**
`~/.vim/cheatsheet.md`

**在 vim 中查看:**
`:e ~/.vim/cheatsheet.md`
